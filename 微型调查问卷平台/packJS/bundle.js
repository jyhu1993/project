!function(e){var t={};function n(l){if(t[l])return t[l].exports;var r=t[l]={i:l,l:!1,exports:{}};return e[l].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,l){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(l,r,function(t){return e[t]}.bind(null,r));return l},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function l(e){var t=document.querySelector(".question-list"),n=document.querySelector(".each-question"),l=t.children.length,r=document.querySelector(".text-area"),o=n.cloneNode(!0),i=r.cloneNode(!0),a=o.firstElementChild.firstElementChild,d=i.firstElementChild.firstElementChild;if("单选"===e){o.style.display="block",a.innerHTML=l-1;for(var c=o.firstElementChild.nextElementSibling.children,u=0;u<c.length;u++)c[u].firstElementChild.name=l-1;t.appendChild(o)}else if("多选"===e){o.style.display="block",a.innerHTML=l-1,o.firstElementChild.lastElementChild.value="多选题",t.appendChild(o);let e=o.firstElementChild.nextElementSibling.children;for(let t=0;t<e.length;t++)e[t].firstElementChild.type="checkbox",e[t].firstElementChild.name=l-1}else"文本框"===e&&(i.style.display="block",d.innerHTML=l-1,t.appendChild(i))}function r(e){var t=e.target.parentNode.previousElementSibling,n=t.firstElementChild.cloneNode(!0);t.appendChild(n);var l=document.querySelectorAll(".delete");for(let e=0;e<l.length;e++)l[e].addEventListener("click",i,!1)}function o(e){var t=e.target.parentNode.parentNode;t.parentNode.removeChild(t);for(var n=document.querySelectorAll(".number"),l=n.length,r=0;r<l;r++){n[r].innerHTML=r-1;var o=n[r].parentNode.nextElementSibling.children;console.log(o);for(let e=0;e<o.length;e++)"TEXTAREA"==o[0].nodeName||(o[e].firstElementChild.name=n[r].innerHTML)}}function i(e){var t=e.target.parentNode;if(null===t.previousElementSibling&&null===t.nextElementSibling)return!1;t.parentNode.removeChild(t)}function a(){for(var e=document.querySelector(".month"),t=e.options[e.selectedIndex].value,n=document.querySelector(".year"),l=n.options[n.selectedIndex].value,r=document.querySelector(".week"),o=document.querySelector(".date");r.hasChildNodes();)r.removeChild(r.firstChild);for(;o.hasChildNodes();)o.removeChild(o.firstChild);for(let e=0;e<7;e++){let t,n=document.createElement("span");switch(e){case 0:t="日";break;case 1:t="一";break;case 2:t="二";break;case 3:t="三";break;case 4:t="四";break;case 5:t="五";break;case 6:t="六"}let l=document.createTextNode(t);n.appendChild(l),n.setAttribute("class","weekday"),r.appendChild(n)}var i,a=new Date(t+" 1,"+l),d=a.getDay(),c=(a.getDate(),new Date);i=1==t||3==t||5==t||7==t||8==t||10==t||12==t?31:2!=t?30:l%400==0||l%4==0&&l%100!=0?29:28;for(let e=0;e<42;e++){let n=document.createElement("span");if(e>=d&&e<=i+d-1){let r=document.createTextNode(e-d+1);n.appendChild(r),l==c.getFullYear()&&t==c.getMonth()+1&&e-d+1==c.getDate()&&(n.style.backgroundColor="#1E90FF",n.style.color="white")}n.setAttribute("class","dateday"),o.appendChild(n)}}function d(e){var t=e.target,n=document.querySelector(".month"),l=n.options[n.selectedIndex].value,r=document.querySelector(".year"),o=r.options[r.selectedIndex].value,i=t.innerHTML,a=o+"年"+l+"月"+i+"日";return new Date(o,l-1,i)<new Date?(alert("无法选择早于问卷创建的时间，请重新选择"),""):a}function c(e){for(var t=document.querySelector("h1 input").value,n=document.querySelectorAll(".question-list input"),l=0;l<n.length;l++)n[l].setAttribute("value",n[l].value);var r=document.querySelector(".question-list").cloneNode(!0),o=document.querySelector(".deadline").value;if(""==o)alert("请选择截止日期");else{var i={theme:t,status:e,deadline:o,question:r.innerHTML};switch(e){case"未发布":alert("保存成功");break;case"发布中":alert("发布成功")}}return i}n.r(t),function(){var e=document.querySelector(".create-questionnair"),t=document.querySelector(".edit-questionnair");"#editQuestionnair"==window.location.hash.slice(0,17)&&(e.style.display="none",t.style.display="block",function(e){var t=JSON.parse(window.localStorage.question),n=t[e].question,l=t[e].theme,r=document.createElement("ul");r.setAttribute("class","question-list"),r.innerHTML=n;var o=document.querySelector(".question-list");o.parentNode.replaceChild(r,o),document.querySelector("h1 input").value=l}(window.location.hash.slice(18)));e.addEventListener("click",function(n){"A"==n.target.nodeName&&(e.style.display="none",t.style.display="block",window.location.hash="#editQuestionnair",n.preventDefault())},!1)}();var u=document.querySelector(".add-question"),s=document.querySelector(".question-kinds");u.addEventListener("click",function(e){"P"==e.target.nodeName&&(s.style.display="block")},!1),s.addEventListener("click",function(e){var t=e.target;"单选"==t.innerText?l("单选"):"多选"===t.innerText?l("多选"):"文本框"===t.innerText&&l("文本框");var n=document.querySelectorAll(".add-option"),i=document.querySelectorAll(".delete-question");for(let e=0;e<n.length;e++)n[e].addEventListener("click",r,!1);for(let e=0;e<i.length;e++)i[e].addEventListener("click",o,!1)},!1);var m=document.querySelector(".deadline");m.value="";var f=document.querySelector(".calendar");m.addEventListener("click",function(){f.style.display="block",function(){var e=document.querySelector(".month"),t=document.querySelector(".year"),n=new Date,l=n.getFullYear(),r=n.getMonth();for(let t=1;t<=12;t++){let n=document.createElement("option"),l=document.createTextNode(t);n.appendChild(l),e.appendChild(n),t==r+1&&n.setAttribute("selected","selected")}for(let e=0;e<10;e++){let n=document.createElement("option"),r=document.createTextNode(l+e);n.appendChild(r),t.appendChild(n)}a(),e.addEventListener("change",function(){a();for(var e=document.querySelectorAll(".dateday"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){var t=d(e);document.querySelector(".deadline").value=t,document.querySelector(".calendar").style.display="none"},!1)},!1),t.addEventListener("change",function(){a();for(var e=document.querySelectorAll(".dateday"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){var t=d(e);document.querySelector(".deadline").value=t,document.querySelector(".calendar").style.display="none"},!1)},!1)}();for(var e=document.querySelectorAll(".dateday"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){var t=d(e);document.querySelector(".deadline").value=t,f.style.display="none"},!1)},!1);var y=document.getElementsByName("保存问卷")[0],p=document.getElementsByName("发布问卷")[0];!function(){var e;e=window.localStorage.getItem("question")?JSON.parse(window.localStorage.question):[],y.addEventListener("click",function(){var t=c("未发布");e.push(t);var n=JSON.stringify(e);window.localStorage.question=n},!1),p.addEventListener("click",function(){var t=c("发布中");e.push(t);var n=JSON.stringify(e);window.localStorage.question=n},!1)}()}]);